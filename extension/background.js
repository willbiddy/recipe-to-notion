var v={ID:"save-recipe",TITLE:"Save Recipe with recipe-to-notion",CONTEXTS:["page"]},F={light:{16:"icons/icon16.png",48:"icons/icon48.png",128:"icons/icon128.png"},dark:{16:"icons/icon16-white.png",48:"icons/icon48-white.png",128:"icons/icon128-white.png"}};async function B(j){let q=F[j];await chrome.action.setIcon({path:q})}async function G(){return(await chrome.storage.local.get("theme")).theme||"light"}async function H(){try{let j=await chrome.tabs.query({active:!0,lastFocusedWindow:!0});if(j[0]?.id){let q=await chrome.scripting.executeScript({target:{tabId:j[0].id},func:()=>{return window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}});if(q[0]?.result)return q[0].result}}catch{}return await G()}async function D(){let j=await H();await B(j),await chrome.storage.local.set({theme:j})}chrome.runtime.onInstalled.addListener(()=>{if(chrome.contextMenus)chrome.contextMenus.create({id:v.ID,title:v.TITLE,contexts:[...v.CONTEXTS]});D()});chrome.runtime.onMessage.addListener((j,q,A)=>{if(j.type==="theme-changed")B(j.theme),A({success:!0});return!0});chrome.storage.onChanged.addListener((j,q)=>{if(q==="local"&&j.theme){let A=j.theme.newValue;B(A)}});D();if(chrome.contextMenus)chrome.contextMenus.onClicked.addListener(async(j,q)=>{if(j.menuItemId===v.ID&&q?.url)try{await chrome.action.openPopup()}catch{}});

//# debugId=05C0025C2565DFBA64756E2164756E21
