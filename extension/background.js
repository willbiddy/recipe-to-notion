var A={ID:"save-recipe",TITLE:"Save Recipe with Recipe Clipper for Notion",CONTEXTS:["page"]},F={light:{16:"icons/icon16.png",48:"icons/icon48.png",128:"icons/icon128.png"},dark:{16:"icons/icon16-white.png",48:"icons/icon48-white.png",128:"icons/icon128-white.png"}};async function B(j){let q=F[j];await chrome.action.setIcon({path:q})}async function G(){return(await chrome.storage.local.get("theme")).theme||"light"}async function H(){try{let j=await chrome.tabs.query({});for(let q of j)if(q.id)try{let v=await chrome.scripting.executeScript({target:{tabId:q.id},func:()=>{return window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}});if(v[0]?.result)return v[0].result}catch{continue}}catch{}return await G()}async function D(){let j=await H();await B(j),await chrome.storage.local.set({theme:j})}chrome.runtime.onInstalled.addListener(()=>{if(chrome.contextMenus)chrome.contextMenus.create({id:A.ID,title:A.TITLE,contexts:[...A.CONTEXTS]});D()});chrome.runtime.onMessage.addListener((j,q,v)=>{if(j.type==="theme-changed")B(j.theme),v({success:!0});return!0});chrome.storage.onChanged.addListener((j,q)=>{if(q==="local"&&j.theme){let v=j.theme.newValue;B(v)}});D();if(chrome.contextMenus)chrome.contextMenus.onClicked.addListener(async(j,q)=>{if(j.menuItemId===A.ID&&q?.url)try{await chrome.action.openPopup()}catch{}});

//# debugId=033727A9B20EE45764756E2164756E21
