<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="Save recipes to Notion from your phone. Paste a recipe URL and get a beautifully formatted Notion page with AI-generated tags." />
		<title>Recipe to Notion</title>
		<link rel="stylesheet" href="web.css" />
		<link rel="manifest" href="manifest.json" />
		<meta name="theme-color" content="#2563eb" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="default" />
		<meta name="apple-mobile-web-app-title" content="Recipe to Notion" />
	</head>
	<body class="min-h-screen bg-gray-50 text-gray-900 text-sm font-sans">
		<div class="max-w-2xl mx-auto px-4 py-8">
			<header class="mb-8">
				<h1 class="text-3xl font-bold text-gray-900 mb-2">Recipe to Notion</h1>
				<p class="text-gray-600">Save recipes from any website to your Notion database</p>
			</header>

			<div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6">
				<div class="flex flex-col gap-3">
					<label for="url-input" class="text-sm font-medium text-gray-700">
						Recipe URL
					</label>
					<input
						type="url"
						id="url-input"
						placeholder="https://example.com/recipe"
						class="px-4 py-3 text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
					/>
					<p class="text-xs text-gray-500">
						Paste a recipe URL from any website. The recipe will be scraped, analyzed, and saved to your Notion database.
					</p>
				</div>

				<button
					id="save-button"
					class="w-full px-5 py-3 bg-blue-600 text-white border-none rounded-lg text-base font-semibold cursor-pointer transition-all duration-200 shadow-sm hover:bg-blue-700 hover:shadow-md active:bg-blue-800 disabled:bg-gray-400 disabled:cursor-not-allowed"
				>
					<span class="button-text">Save Recipe</span>
				</button>

				<div
					id="progress-container"
					class="hidden flex items-center gap-3 py-3.5 px-4 bg-blue-50 border border-blue-200 rounded-lg animate-[fadeIn_0.2s_ease-in]"
				>
					<div
						class="spinner w-[18px] h-[18px] border-[2.5px] border-blue-100 border-t-blue-600 rounded-full animate-spin flex-shrink-0"
					></div>
					<div id="progress-message" class="text-sm text-blue-800 font-medium"></div>
				</div>

				<div
					id="status"
					class="hidden py-3 px-4 rounded-lg text-sm leading-relaxed animate-[fadeIn_0.2s_ease-in]"
				></div>

				<div id="settings-panel" class="hidden flex flex-col gap-3 pt-4 border-t border-gray-200">
					<div class="flex flex-col gap-1.5">
						<label for="api-key-input" class="text-sm font-medium text-gray-700">
							API Key
						</label>
						<div class="relative">
							<input
								type="password"
								id="api-key-input"
								placeholder="Enter your API key"
								class="px-3 py-2 pr-10 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"
							/>
							<button
								type="button"
								id="toggle-api-key-visibility"
								class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 p-1"
								title="Show/Hide API key"
							>
								<svg id="eye-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
									<circle cx="12" cy="12" r="3"></circle>
								</svg>
								<svg id="eye-off-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden">
									<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
									<line x1="1" y1="1" x2="23" y2="23"></line>
								</svg>
							</button>
						</div>
						<p class="text-xs text-gray-500">
							Get this from your Vercel deployment's API_SECRET environment variable. This is stored locally in your browser and never shared.
						</p>
					</div>
					<button
						id="save-api-key-button"
						class="px-4 py-2 bg-gray-600 text-white border-none rounded-lg text-sm font-semibold cursor-pointer transition-all duration-200 hover:bg-gray-700"
					>
						Save API Key
					</button>
				</div>

				<div class="flex items-center justify-between pt-2 border-t border-gray-200">
					<button
						id="settings-button"
						class="text-gray-500 hover:text-gray-700 transition-colors cursor-pointer bg-transparent border-none p-2 flex items-center gap-2 text-sm"
						title="Settings"
					>
						<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path>
							<circle cx="12" cy="12" r="3"></circle>
						</svg>
						<span>Settings</span>
					</button>
					<a
						href="https://github.com/willbiddy/recipe-to-notion/blob/main/docs/WEB_INTERFACE.md"
						target="_blank"
						class="text-blue-600 hover:text-blue-700 text-sm underline"
					>
						Documentation
					</a>
				</div>
			</div>

			<div class="mt-6 text-center text-xs text-gray-500">
				<p>Works on mobile and desktop. Add to home screen for quick access.</p>
			</div>
		</div>

		<script type="module" src="web.js"></script>
	</body>
</html>
